{"version":3,"file":"index.js","sources":["../src/js/render.js","../src/main.js"],"sourcesContent":["export function templateImg(data) {\n  const markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<a href=\"${largeImageURL}\" class='gallery-link'\n          ><li class='item'>\n            <img  class='gallery-img' src=\"${webformatURL}  alt=\"${tags}\" />\n            <p><b>Likes:</b>${likes}</p>\n            <p><b>Views:</b>${views}</p>\n            <p><b>Comments:</b>${comments}</p>\n            <p><b>Downloads:</b>${downloads}</p>\n          </li></a\n        >`;\n      }\n    )\n    .join('');\n  return markup;\n  console.log(markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { templateImg } from './js/render';\n\nconst formRef = document.querySelector('.form');\nconst contRef = document.querySelector('.container');\nconst galleryRef = document.querySelector('.gallery');\n\nformRef.addEventListener('submit', onSubmit);\n\nfunction onSubmit(ev) {\n  ev.preventDefault();\n\n  galleryRef.innerHTML = '';\n\n  const query = ev.currentTarget.elements.query.value;\n\n  if (query === '') {\n    iziToast.warning({\n      title: '',\n      message: 'Please, fill in search field',\n      position: 'center',\n    });\n  }\n\n  searchImage(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: '',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'center',\n        });\n      } else {\n        galleryRef.insertAdjacentHTML('beforeend', templateImg(data));\n      }\n    })\n    .catch(err => console.log(err));\n  formRef.reset();\n}\n\nfunction searchImage(query) {\n  const BASE_URL = 'https://pixabay.com/api/?key=';\n  const KEY = '42059071-0978dc0d7158b742eee7c30f5';\n\n  const url = `${BASE_URL}${KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n\nconst lightboxOptions = {\n  captions: true,\n  captionSelector: 'self',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n};\n\nlet gallery = new SimpleLightbox('.gallery a');\ngallery.on('show.simplelightbox', lightboxOptions);\n"],"names":["templateImg","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formRef","galleryRef","onSubmit","ev","query","iziToast","searchImage","err","url","res","lightboxOptions","gallery","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAYC,EAAM,CAwBhC,OAvBeA,EAAK,KACjB,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe,YAAYL,CAAa;AAAA;AAAA,6CAEKD,CAAY,UAAUE,CAAI;AAAA,8BACzCC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA,UAItC,EACA,KAAK,EAAE,CAGZ,CCpBA,MAAMC,EAAU,SAAS,cAAc,OAAO,EAC9B,SAAS,cAAc,YAAY,EACnD,MAAMC,EAAa,SAAS,cAAc,UAAU,EAEpDD,EAAQ,iBAAiB,SAAUE,CAAQ,EAE3C,SAASA,EAASC,EAAI,CACpBA,EAAG,eAAc,EAEjBF,EAAW,UAAY,GAEvB,MAAMG,EAAQD,EAAG,cAAc,SAAS,MAAM,MAE1CC,IAAU,IACZC,EAAS,QAAQ,CACf,MAAO,GACP,QAAS,+BACT,SAAU,QAChB,CAAK,EAGHC,EAAYF,CAAK,EACd,KAAKZ,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBa,EAAS,MAAM,CACb,MAAO,GACP,QACE,2EACF,SAAU,QACpB,CAAS,EAEDJ,EAAW,mBAAmB,YAAaV,EAAYC,CAAI,CAAC,CAEpE,CAAK,EACA,MAAMe,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAChCP,EAAQ,MAAK,CACf,CAEA,SAASM,EAAYF,EAAO,CAI1B,MAAMI,EAAM,qEAAuB,mBACjCJ,CACD,CAAA,2DAED,OAAO,MAAMI,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,UAAU,EAEhC,OAAOA,EAAI,MACf,CAAG,CACH,CAEA,MAAMC,EAAkB,CACtB,SAAU,GACV,gBAAiB,OACjB,gBAAiB,SACjB,aAAc,GAChB,EAEA,IAAIC,EAAU,IAAIC,EAAe,YAAY,EAC7CD,EAAQ,GAAG,sBAAuBD,CAAe"}